<!DOCTYPE html>
<!-- LICENSE: https://polyformproject.org/licenses/strict/1.0.0/ -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Stixu Stick Diagrammer</title>
    <script src="https://kit.fontawesome.com/039fa42282.js" crossorigin="anonymous"></script>
    <script src="script.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="dark">

    <div id="main-container">
        <!-- Header -->
        <div class="overall-header">
            <div class="header-left"><i class="fas fa-cloud-moon header-button clickable" id="dark-mode-btn"></i></div>
            <div class="logo header-center">Stixu Stick Diagrammer</div>
            <div class="header-right"><i id="main-menu-btn" class="fas fa-bars header-button clickable"></i></div>
        </div>
        <!-- Header-END -->

        <section class="main">
            <!-- canvas -->
            <div id="canvas-group-wrapper">
                <div class="canvas-group">
                    <div id="canvas-wrapper" class="canvas-wrapper">
                        <canvas id="canvas"></canvas>
                        <canvas id="grid-canvas"></canvas>
                    </div>
                </div>
            </div>
            <!-- canvas end -->

        <!-- Right-side -->
            <section class="controls">

            <!-- Edit-open -->
            <div id="terminal-menu" class="edit-open closed">
                <i class="fas fa-times clickable" id="close-term-menu-btn"></i>
                <div class="terminal">
                    <h3>Manage Terminals</h3>
                    <div id="termselect-list" class="terminal-select">
                        <!-- AUTO -->
                    </div>
                    <div class="terminal-select2">
                        <div class="select-content" id="remove-input-btn">
                            <i class="fas fa-minus terminalBtn clickable"></i><span class="small">Delete an Input</span>
                        </div>
                        <div class="select-content" id="add-input-btn">
                            <i class="fas fa-plus terminalBtn clickable"></i><span class="small">Add an Input</span>
                        </div>
                        <div class="select-content" id="place-term-btn">
                            <i class="fas fa-map-pin terminalBtn clickable"></i><span class="small">Place Terminal</span>
                        </div>
                        <div class="select-content" id="remove-output-btn">
                            <i class="fas fa-minus terminalBtn clickable"></i><span class="small">Delete an Output</span>
                        </div>
                        <div class="select-content" id="add-output-btn">
                            <i class="fas fa-plus terminalBtn clickable"></i><span class="small">Add an Output</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Edit-open-end -->

                <!-- colorBtn -->
                <div class="colorChange" id="colorChange">
                    <i class="fas fa-circle clickable"></i>
                    <i class="fas fa-circle clickable"></i>
                    <i class="fas fa-circle clickable"></i>
                    <i class="fas fa-circle clickable"></i>
                    <i class="fas fa-circle clickable"></i>
                    <i class="fas fa-circle clickable"></i>
                </div>
                <!-- colorBtn END -->

                <!-- Edit-section -->
                <div class="edit-btn">
                    <div class="edit-btn-content small">
                        <i id="undo-btn" class="fas fa-undo edit-back clickable small"></i>
                    </div>
                    <div class="edit-btn-content">
                        <i id="paint-mode-btn" class="fas fa-paint-brush edit-back clickable"></i>
                        <h5>Paint/Erase</h5>
                    </div>
                    <div class="edit-btn-content">
                        <i id="term-menu-btn" class="fas fa-edit edit-back clickable"></i>
                        <h5>Terminals</h5>
                    </div>
                    <div class="edit-btn-content small">
                        <i id="redo-btn" class="fas fa-redo edit-back clickable small"></i>
                    </div>
                </div>
                <!-- Edit-section-END -->
                <div class="offscreen">
                    <div class="rowBtn-1">
                        <!-- row-btn -->
                        <div class="rowBtn">
                            <div class="row-content">
                                <h3>Rows: <span id="num-rows"><!-- AUTO --></span></h3>
                            </div>
                            <div class="row-icon">
                                <i class="fas fa-plus icon-back clickable" id="add-row"></i>
                                <i class="fas fa-minus icon-back clickable" id="remove-row"></i>
                            </div>
                        </div>
                        <!-- colum-btn -->
                        <div class="rowBtn">
                            <div class="row-content">
                                <h3>Cols: <span id="num-cols"><!-- AUTO --></span></h3>
                            </div>
                            <div class="row-icon">
                                <i class="fas fa-plus icon-back clickable" id="add-column"></i>
                                <i class="fas fa-minus icon-back clickable" id="remove-column"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Shift grid-btn -->
                    <div class="rowBtn-2">
                        <div class="row-content">
                            <h3>Shift grid</h3>
                        </div>
                        <div class="row-icon">
                            <i class="fas fa-chevron-left icon-back clickable" id="shift-left"></i>
                            <i class="fas fa-chevron-up icon-back clickable" id="shift-up" ></i>
                            <i class="fas fa-chevron-down icon-back clickable" id="shift-down"></i>
                            <i class="fas fa-chevron-right icon-back clickable" id="shift-right"></i>
                        </div>
                    </div>

                    <div class="evaluate-btn clickable" id="evaluate-btn">Evaluate</div>
                    
                    <section class="truth-table-section">
                        <div id="truth-table-container">
                            <table id="truth-table"></table>
                        </div>
                    </section>
                    <div id="results"><!-- AUTO --></div>
                </div>
            </section>
            <!-- Right-side-END -->
        </section>
    </div>

    <!-- Main-Menu -->
    <section class="menu scrollable closed" id="main-menu">
        <i class="fas fa-times clickable" id="close-main-menu-btn"></i>

        <div class="menu-content">
            <ul>
                <li class="clickable" id="open-instructions-btn">Instructions</li>
                <li class="clickable" id="open-about-page-btn">About</li>
                <li class="clickable"><a href="mailto:nick.overacker@okstate.edu">Bug Report</a></li>
                <li class="clickable"><a href="mailto:nick.overacker@okstate.edu">Contact</a></li>
            </ul>

            <div class="menu-btn-content">
                <div class="box-btn clickable options-btn" id="open-options-btn">
                    <i class="fas fa-cogs menu-text">
                        <span>&nbsp;Option</span>
                    </i>
                </div>
                <!--<div class="teacher-btn clickable"><i class="fas fa-glasses menu-text"><span>&nbsp;Teacher Mode</span></i></div>-->
                <h1>Support this project!</h1>
                <div class="box-btn clickable">
                    <a href="https://patreon.com/twentynine" target="_blank">
                        <i class="fab fa-patreon menu-text">
                            <span>&nbsp;Patron</span>
                        </i>
                    </a>
                </div>
                <div class="box-btn clickable">
                    <a href="https://ko-fi.com/twentynine" target="_blank">
                        <i class="fas fa-coffee menu-text">
                            <span>&nbsp;Ko-Fi</span>
                        </i>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <!-- Main-menu-end -->

    <section class="menu scrollable closed column-flex" id="instructions">
        <i class="fas fa-times clickable" id="close-instructions-btn"></i>

        <section class="menu-long-text desktop">
            <h1>Basic Mouse/Keyboard Controls</h1>
            <ul>
                <li>Left-click to paint a cell with the selected layer.
                    <ul><li>Left-click and drag to paint a line.</li></ul>
                </li>

                <li>Right-click to clear all layers on the selected cell.
                    <ul><li>Right-click and drag to clear all cells in the selected area.</li></ul>
                </li>

                <li>Right-click in an unpainted area to change layers.
                    <ul><li>The layer name is displayed at the top of the canvas.</li></ul>
                </li>

                <li>Point at a cell and type SHIFT + V to move the VDD contact to that cell.</li>
                <li>Point at a cell and type SHIFT + G to move the GND contact to that cell.</li>
                <li>Point at a cell and type the name of that terminal (A, B, C, ...) to move the chosen contact to that cell.</li>
                <li>Press Enter or click "Evaluate" to generate a truth table for the painted diagram.
                    <ul><li>Outputs are found with lazy evaluation, so not all paths are computed.</li></ul>
                </li>
                <li>See additional keyboard shortcuts in the Options menu.</li>
            </ul>
        </section>

        <section class="menu-long-text">
            <h1>Basic Touch-Friendly Controls</h1>
            <ul>
                <li>Tap the Paint <i class="fas fa-paint-brush inline"></i>
                    or Erase <i class="fas fa-eraser inline"></i>
                    icon to switch between paint and erase mode.</li>
                <li>Tap to paint or clear a cell with the selected layer.
                    <ul><li>Touch and drag to paint a line or clear an area.</li></ul>
                </li>

                <li>Tap one of the colored circles to change paint layers.
                    <ul><li>The layer name is displayed at the top of the canvas.</li></ul>
                </li>

                <li>Tap the Terminal menu button <i class="fas fa-edit inline"></i> to edit I/O terminals.
                    <ul>
                        <li>Use the <i class="fas fa-minus inline"></i> and <i class="fas fa-plus inline"></i> buttons to remove and add terminals.
                            <ul>
                                <li>The buttons on the left control input terminals.</li>
                                <li>The buttons on the right control output terminals.</li>
                            </ul>
                        </li>
                        <li>Select a terminal from the list and tap the <i class="fas fa-map-pin inline"></i> button to enter terminal placement mode.
                            <ul>
                                <li>Tap any cell in the canvas to place the terminal.</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>Scroll down and tap "Evaluate" to generate a truth table for the painted diagram.</li>
                <li>Tap any output value in the truth table to highlight the evaluated path to the output.
                    <ul><li>Outputs are found with lazy evaluation, so not all paths are computed.</li></ul>
                </li>
            </ul>
        </section>
    </section>

    <section class="menu scrollable closed" id="about-page">
        <i class="fas fa-times clickable" id="close-about-page-btn"></i>
        <div class="menu-long-text">
            <h1>About Stixu</h1>
            <span>Stixu is a tool for designing and validating CMOS logic circuits.
            <br><br>
            The tool was conceived and developed by Nick Overacker, an Oklahoma State University Computer Engineering graduate currently living in Japan.
            <br><br>
            The user interface was designed and implemented with the help of Miho Kobayashi, a Kansai Gaidai University graduate, former OSU exchange student, and freelance web designer.
            <br><br>
            The default canvas palette was borrowed from <a href="https://personal.sron.nl/~pault/" target="_blank">Paul Tol's</a> work.
            <br><br>
            The alternate "Sorcery" palette was inspired by the <a href="http://opencircuitdesign.com/magic/" target="_blank">Magic</a> VLSI layout tool.
            </span>
        
        </div>
    </section>

    <section class="menu scrollable closed" id="options-menu">
        <i class="fas fa-times clickable" id="close-options-btn"></i>
        <div class="menu-content">
            <ul>
                <li class="clickable" id="select-palette-btn">Palette: <span id="palette-setting">Tol</span></li>
                <li class="clickable" id="toggle-transparency-btn">Layer transparency: <span id="transparency-setting">ON</span></li>
            </ul>
        </div>
    </section>

</body>
</html>